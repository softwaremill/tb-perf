# Sanity-check configuration for PostgreSQL batched mode
# Quick 30-second test to verify batched mode works correctly

[workload]
test_mode = "max_throughput"
concurrency = 4
num_accounts = 1000
zipfian_exponent = 1.0
initial_balance = 1000000
min_transfer_amount = 1
max_transfer_amount = 1000
warmup_duration_secs = 5
test_duration_secs = 10

[database]
type = "postgresql"

[postgresql]
isolation_level = "read_committed"
connection_pool_size = 1  # Ignored in batched mode (single connection used)
connection_pool_min_idle = 1
batched_mode = true  # Enable batched executor (single connection, batch transfers)

[deployment]
type = "local"
num_db_nodes = 1
measure_network_latency = false

[coordinator]
test_runs = 1
max_variance_threshold = 0.10
max_error_rate = 0.05
metrics_export_path = "./results"
keep_grafana_running = true

[monitoring]
grafana_port = 3000
prometheus_port = 9090
otel_collector_port = 4317
